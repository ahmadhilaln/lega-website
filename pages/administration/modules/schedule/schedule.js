const params = new URLSearchParams(window.location.search);const eventCode = params.get("event");if (!eventCode) {  alert("Event tidak ditemukan.");  window.location.href = "/";}export async function init() {  await loadScheduleData();}export function destroy() {}async function loadScheduleData() {  try {    const res = await fetch(`/api/admin/schedule?eventCode=${eventCode}`);    if (!res.ok) throw new Error("Server error");    const data = await res.json();    const courts = data.courts || [];    renderScheduleIndex(courts.length);  } catch (err) {    console.error(err);    alert("Gagal mengambil data schedule.");  }}function renderScheduleIndex(totalCourt) {  const categories = [    {      label: "Pertandingan",      desc: "Schedule pertandingan per court",      folder: "pertandingan",      file: "pertandingan.html"    },    {      label: "Wasit",      desc: "Penugasan wasit per court",      folder: "wasit",      file: "wasit.html"    },    {      label: "Panitia",      desc: "Penugasan panitia per court",      folder: "panitia",      file: "panitia.html"    }  ];  const container = document.getElementById("scheduleContainer");  container.innerHTML = "";  if (totalCourt === 0) {    container.innerHTML =      `<div class="comp-card"><strong>Belum ada court dibuat</strong></div>`;    return;  }  categories.forEach(cat => {    let courtsHtml = "";    for (let i = 1; i <= totalCourt; i++) {      courtsHtml += `        <button          data-folder="${cat.folder}"          data-file="${cat.file}"          data-court="${i}">          ${i}        </button>      `;    }    courtsHtml += `      <button        class="print-all"        data-folder="${cat.folder}"        data-file="${cat.file}"        data-court="all">        Print All      </button>    `;    container.innerHTML += `      <div class="comp-card schedule-card">        <div class="schedule-left">          <strong>${cat.label}</strong>          <span class="schedule-desc">${cat.desc}</span>        </div>        <div class="schedule-actions">          ${courtsHtml}        </div>      </div>    `;  });  bindActions();}function bindActions() {  document.querySelectorAll(".schedule-actions button")    .forEach(btn => {      btn.addEventListener("click", () => {        const folder = btn.dataset.folder;        const file = btn.dataset.file;        const court = btn.dataset.court;        const url =          `/pages/administration/modules/schedule/modules/${folder}/${file}?event=${eventCode}&court=${court}`;        window.open(url, "_blank");      });    });}