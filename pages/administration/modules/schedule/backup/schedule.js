/* =========================================================   SCHEDULE INDEX MODULE========================================================= */const params = new URLSearchParams(window.location.search);const eventCode = params.get("event");if (!eventCode) {  alert("Event tidak ditemukan.");  window.location.href = "/";}/* =========================================================   INIT========================================================= */export async function init() {  await loadScheduleData();}export function destroy() {  // kosong (belum ada listener global)}/* =========================================================   LOAD SCHEDULE DATA========================================================= */async function loadScheduleData() {  try {    const res = await fetch(`/api/admin/schedule?eventCode=${eventCode}`);    if (!res.ok) throw new Error("Server error");    const data = await res.json();    const totalCourt = data.courts?.length || 0;    renderScheduleIndex(totalCourt);  } catch (err) {    console.error(err);    alert("Gagal mengambil data schedule.");  }}/* =========================================================   RENDER SCHEDULE INDEX (MODEL CARD)========================================================= */function renderScheduleIndex(totalCourt) {  const categories = [    {      label: "Pertandingan",      desc: "Schedule pertandingan per court",      file: "match-court.html"    },    {      label: "Wasit",      desc: "Penugasan wasit per court",      file: "wasit-court.html"    },    {      label: "Panitia",      desc: "Penugasan panitia per court",      file: "panitia-court.html"    }  ];  const container = document.getElementById("scheduleContainer");  container.innerHTML = "";  categories.forEach(cat => {    let courtsHtml = "";    for (let i = 1; i <= totalCourt; i++) {      courtsHtml += `        <button           data-file="${cat.file}"          data-court="${i}">          ${i}        </button>      `;    }    courtsHtml += `      <button         class="print-all"        data-file="${cat.file}"        data-court="all">        Print All      </button>    `;    container.innerHTML += `      <div class="comp-card schedule-card">        <div class="schedule-left">          <strong>${cat.label}</strong>          <span class="schedule-desc">            ${cat.desc}          </span>        </div>        <div class="schedule-actions">          ${courtsHtml}        </div>      </div>    `;  });  bindActions();}/* =========================================================   BUTTON CLICK HANDLER========================================================= */function bindActions() {  document    .querySelectorAll(".schedule-actions button")    .forEach(btn => {      btn.addEventListener("click", () => {        const file = btn.dataset.file;        const court = btn.dataset.court;        const url =          `./modules/schedule/${file}?event=${eventCode}&court=${court}`;        window.open(url, "_blank", "noopener,noreferrer");      });    });}